(this.webpackJsonpreactjs=this.webpackJsonpreactjs||[]).push([[0],{120:function(e,t,s){},147:function(e,t,s){"use strict";s.r(t);var a=s(0),c=s.n(a),n=s(18),r=s.n(n),i=(s(87),s(120),s(185)),o=s(182),l=s(101),d=s(33),j=s(23),h=s(10),b=s(11),m=s(14),u=s(13),x=s(57),p=s(198),O=s(202),g=s(21),f=s(22),v="LOGIN_REQUEST",N="LOGOUT_REQUEST",y="SUCCESS",C="FAILURE",w=s(25),k=s.n(w),S=function(e){return{type:y,payload:e}},T=function(){return{type:C,payload:!1}},I=s(1),U=function(e){Object(m.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(h.a)(this,s);for(var a=arguments.length,c=new Array(a),n=0;n<a;n++)c[n]=arguments[n];return(e=t.call.apply(t,[this].concat(c))).logout=function(){e.props.logoutUser()},e}return Object(b.a)(s,[{key:"render",value:function(){var e=Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("div",{className:"mr-auto"}),Object(I.jsx)(p.a,{className:"mr-auto",children:Object(I.jsx)(d.b,{to:"aboutUs",className:"nav-link",children:"About Us"})}),Object(I.jsxs)(p.a,{className:"navbar-right",children:[Object(I.jsxs)(d.b,{to:"register",className:"nav-link",children:[Object(I.jsx)(g.a,{icon:f.h})," Register"]}),Object(I.jsxs)(d.b,{to:"login",className:"nav-link",children:[Object(I.jsx)(g.a,{icon:f.d})," Login"]})]})]}),t=Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(p.a,{className:"mr-auto",children:[Object(I.jsx)(d.b,{to:"dashboard",className:"nav-link",children:"My Profile"}),Object(I.jsx)(d.b,{to:"createtrip",className:"nav-link",children:"Create Trip"}),Object(I.jsx)(d.b,{to:"myTrips",className:"nav-link",children:"Trip List"})]}),Object(I.jsx)(p.a,{className:"navbar-right",children:Object(I.jsxs)(d.b,{to:"login",className:"nav-link",onClick:this.logout,children:[Object(I.jsx)(g.a,{icon:f.e})," Logout"]})})]});return Object(I.jsxs)(O.a,{bg:"dark",variant:"dark",children:[Object(I.jsxs)(d.b,{to:"",className:"navbar-brand",children:[Object(I.jsx)("img",{src:"https://www.vhv.rs/dpng/d/450-4505042_trekking-png-hd-mountain-hiking-clip-art-transparent.png",width:"25",height:"25",alt:"brand"})," ","TRIP SHARE"]}),this.props.auth.isLoggedIn?t:e]})}}]),s}(a.Component),D=Object(x.b)((function(e){return{auth:e.auth}}),(function(e){return{logoutUser:function(){return e((function(e){e({type:N}),localStorage.removeItem("jwtToken"),localStorage.removeItem("newtripId"),e(S(!1))}))}}}))(U),P=s(199),A=(s(68),s(78),s.p+"static/media/slide1.9347b49e.jpg"),G=s.p+"static/media/slide2.1ceb5640.jpg",L=s.p+"static/media/slide3.ff598f3e.jpg",M=function(e){Object(m.a)(s,e);var t=Object(u.a)(s);function s(){return Object(h.a)(this,s),t.apply(this,arguments)}return Object(b.a)(s,[{key:"componentDidMount",value:function(){localStorage.removeItem("newtripId"),localStorage.removeItem("jwtToken")}},{key:"render",value:function(){return Object(I.jsxs)("div",{children:[Object(I.jsx)("div",{children:Object(I.jsxs)(P.a,{children:[Object(I.jsxs)(P.a.Item,{children:[Object(I.jsx)("img",{className:"image d-block w-100",src:A,alt:"First slide"}),Object(I.jsx)(P.a.Caption,{children:Object(I.jsx)("h3",{className:"caption",children:"Hit the Road"})})]}),Object(I.jsxs)(P.a.Item,{children:[Object(I.jsx)("img",{className:"image d-block w-100",src:G,alt:"Third slide"}),Object(I.jsx)(P.a.Caption,{children:Object(I.jsx)("h3",{className:"caption",style:{color:"black"},children:"Walk through nature"})})]}),Object(I.jsxs)(P.a.Item,{children:[Object(I.jsx)("img",{className:"image d-block w-100",src:L,alt:"Third slide"}),Object(I.jsx)(P.a.Caption,{children:Object(I.jsx)("h3",{className:"caption",children:"Explore a city"})})]})]})}),Object(I.jsxs)("div",{className:"text-center m-5",children:[Object(I.jsx)("h1",{className:"brand text-white",children:" Trip Share"}),Object(I.jsxs)("p",{className:"brand text-white",children:[Object(I.jsx)("br",{}),'"Not until we are lost do we begin to understand ourselves."',Object(I.jsx)("br",{}),"-Henry David Thoreau"]})]})]})}}]),s}(a.Component),z=s(35),B=s(12),E=new(function(){function e(){Object(h.a)(this,e)}return Object(b.a)(e,[{key:"createUser",value:function(e){return console.log("service "+e.firstName),k.a.post("http://localhost:8085/registration",e)}},{key:"deleteUser",value:function(){return console.log(localStorage.getItem("jwtToken")),k.a.post("http://localhost:8085/user/delete",{},{headers:{Authorization:localStorage.jwtToken}})}}]),e}()),F=s(205),R=s(197),H=s(183),W=s(102),Y=s(184),q=function(e){Object(m.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(h.a)(this,s),(a=t.call(this,e)).initialState={firstName:"",lastName:"",email:"",password:""},a.userChange=function(e){a.setState(Object(z.a)({},e.target.name,e.target.value))},a.resetRegisterForm=function(){a.setState((function(){return a.initialState}))},a.state=a.initialState,a.userChange=a.userChange.bind(Object(B.a)(a)),a.submitUser=a.submitUser.bind(Object(B.a)(a)),a}return Object(b.a)(s,[{key:"componentDidMount",value:function(){localStorage.removeItem("newtripId"),localStorage.removeItem("jwtToken")}},{key:"submitUser",value:function(e){var t=this;e.preventDefault();var s={firstName:this.state.firstName,lastName:this.state.lastName,email:this.state.email,password:this.state.password};console.log("user => "+JSON.stringify(s)),E.createUser(s).then((function(e){t.props.history.push("/login")}))}},{key:"render",value:function(){var e=this.state,t=e.firstName,s=e.email,a=e.password,c=e.lastName;return Object(I.jsx)(o.a,{className:"justify-content-md-center",children:Object(I.jsx)(l.a,{xs:5,children:Object(I.jsxs)(F.a,{className:"border border-dark bg-dark text-white",children:[Object(I.jsxs)(F.a.Header,{children:[Object(I.jsx)(g.a,{icon:f.h})," Register"]}),Object(I.jsxs)(F.a.Body,{children:[Object(I.jsx)(R.a.Row,{children:Object(I.jsx)(R.a.Group,{as:l.a,children:Object(I.jsxs)(H.a,{children:[Object(I.jsx)(H.a.Prepend,{children:Object(I.jsx)(H.a.Text,{children:Object(I.jsx)(g.a,{icon:f.g})})}),Object(I.jsx)(W.a,{autoComplete:"off",type:"text",name:"firstName",value:t,onChange:this.userChange,className:"bg-dark text-white",placeholder:"Enter First Name"})]})})}),Object(I.jsx)(R.a.Row,{children:Object(I.jsx)(R.a.Group,{as:l.a,children:Object(I.jsxs)(H.a,{children:[Object(I.jsx)(H.a.Prepend,{children:Object(I.jsx)(H.a.Text,{children:Object(I.jsx)(g.a,{icon:f.g})})}),Object(I.jsx)(W.a,{autoComplete:"off",type:"text",name:"lastName",value:c,onChange:this.userChange,className:"bg-dark text-white",placeholder:"Enter Last Name"})]})})}),Object(I.jsx)(R.a.Row,{children:Object(I.jsx)(R.a.Group,{as:l.a,children:Object(I.jsxs)(H.a,{children:[Object(I.jsx)(H.a.Prepend,{children:Object(I.jsx)(H.a.Text,{children:Object(I.jsx)(g.a,{icon:f.a})})}),Object(I.jsx)(W.a,{required:!0,autoComplete:"off",type:"email",name:"email",value:s,onChange:this.userChange,className:"bg-dark text-white",placeholder:"Enter Email Address"})]})})}),Object(I.jsx)(R.a.Row,{children:Object(I.jsx)(R.a.Group,{as:l.a,children:Object(I.jsxs)(H.a,{children:[Object(I.jsx)(H.a.Prepend,{children:Object(I.jsx)(H.a.Text,{children:Object(I.jsx)(g.a,{icon:f.c})})}),Object(I.jsx)(W.a,{required:!0,autoComplete:"off",type:"password",name:"password",value:a,onChange:this.userChange,className:"bg-dark text-white",placeholder:"Enter Password"})]})})})]}),Object(I.jsxs)(F.a.Footer,{style:{textAlign:"right"},children:[Object(I.jsxs)(Y.a,{size:"sm",type:"button",variant:"success",onClick:this.submitUser,disabled:0===this.state.email.length||0===this.state.password.length,children:[Object(I.jsx)(g.a,{icon:f.h})," Register"]})," ",Object(I.jsxs)(Y.a,{size:"sm",type:"button",variant:"info",onClick:this.resetRegisterForm,children:[Object(I.jsx)(g.a,{icon:f.f})," Reset"]})]})]})})})}}]),s}(a.Component),J=s(203),V=function(e){Object(m.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(h.a)(this,s),(a=t.call(this,e)).initialState={email:"",password:"",error:""},a.credentialChange=function(e){a.setState(Object(z.a)({},e.target.name,e.target.value))},a.validateUser=function(){a.props.authenticateUser(a.state.email,a.state.password),setTimeout((function(){if(a.props.auth.isLoggedIn)return a.props.history.push("/dashboard");a.resetLoginForm(),localStorage.removeItem("jwtToken"),a.setState({error:"Invalid email and password"})}),500)},a.resetLoginForm=function(){a.setState((function(){return a.initialState})),localStorage.removeItem("jwtToken"),localStorage.removeItem("newtripId")},a.state=a.initialState,a}return Object(b.a)(s,[{key:"render",value:function(){var e=this.state,t=e.email,s=e.password,a=e.error;return Object(I.jsx)(o.a,{className:"justify-content-md-center",children:Object(I.jsxs)(l.a,{xs:5,children:[a&&Object(I.jsx)(J.a,{variant:"danger",children:a}),Object(I.jsxs)(F.a,{className:"border border-dark bg-dark text-white",children:[Object(I.jsxs)(F.a.Header,{children:[Object(I.jsx)(g.a,{icon:f.d})," Login"]}),Object(I.jsxs)(F.a.Body,{children:[Object(I.jsx)(R.a.Row,{children:Object(I.jsx)(R.a.Group,{as:l.a,children:Object(I.jsxs)(H.a,{children:[Object(I.jsx)(H.a.Prepend,{children:Object(I.jsx)(H.a.Text,{children:Object(I.jsx)(g.a,{icon:f.a})})}),Object(I.jsx)(W.a,{required:!0,autoComplete:"off",type:"text",name:"email",value:t,onChange:this.credentialChange,className:"bg-dark text-white",placeholder:"Enter Email Address"})]})})}),Object(I.jsx)(R.a.Row,{children:Object(I.jsx)(R.a.Group,{as:l.a,children:Object(I.jsxs)(H.a,{children:[Object(I.jsx)(H.a.Prepend,{children:Object(I.jsx)(H.a.Text,{children:Object(I.jsx)(g.a,{icon:f.c})})}),Object(I.jsx)(W.a,{required:!0,autoComplete:"off",type:"password",name:"password",value:s,onChange:this.credentialChange,className:"bg-dark text-white",placeholder:"Enter Password"})]})})})]}),Object(I.jsxs)(F.a.Footer,{style:{textAlign:"right"},children:[Object(I.jsxs)(Y.a,{size:"sm",type:"button",variant:"success",onClick:this.validateUser,disabled:0===this.state.email.length||0===this.state.password.length,children:[Object(I.jsx)(g.a,{icon:f.d})," Login"]})," ",Object(I.jsxs)(Y.a,{size:"sm",type:"button",variant:"info",onClick:this.resetLoginForm,disabled:0===this.state.email.length&&0===this.state.password.length&&0===this.state.error.length,children:[Object(I.jsx)(g.a,{icon:f.f})," Reset"]})]})]})]})})}}]),s}(a.Component),_=Object(x.b)((function(e){return{auth:e.auth}}),(function(e){return{authenticateUser:function(t,s){return e(function(e,t){var s={email:e,password:t};return console.log(e),console.log(t),function(e){e({type:v}),k.a.post("http://localhost:8085/user/authenticate",s).then((function(t){console.log(JSON.stringify(t));var s=t.data.token;localStorage.setItem("jwtToken",s),e(S(!0))})).catch((function(t){e(T())}))}}(t,s))}}}))(V),Q=function(e){Object(m.a)(s,e);var t=Object(u.a)(s);function s(){return Object(h.a)(this,s),t.apply(this,arguments)}return Object(b.a)(s,[{key:"render",value:function(){var e=(new Date).getFullYear();return Object(I.jsx)(O.a,{fixed:"bottom",bg:"dark",variant:"dark",children:Object(I.jsx)(i.a,{children:Object(I.jsx)(l.a,{lg:12,className:"text-center text-muted",children:Object(I.jsxs)("div",{children:[e,"-",e+1,", All Rights Reserved by TRIP SHARE"]})})})})}}]),s}(a.Component),$=function(e){Object(m.a)(s,e);var t=Object(u.a)(s);function s(e,a){var c;return Object(h.a)(this,s),(c=t.call(this,e,a)).findUserByUser=function(){fetch("http://localhost:8085/user/getdetails",{method:"get",headers:new Headers({Authorization:localStorage.jwtToken,"Content-Type":"application/json"})}).then((function(e){return e.json()})).then((function(e){console.log(e),c.setState({id:e.id,firstName:e.firstName,lastName:e.lastName,email:e.email,dob:e.dob,description:e.description,photoPath:e.photoPath}),1===e.gender?c.setState({gender:"Male"}):0===e.gender?c.setState({gender:"Other"}):c.setState({gender:"Female"})}))},c.findTripsByUser=function(){fetch("http://localhost:8085/user/gettrips",{method:"get",headers:new Headers({Authorization:localStorage.jwtToken,"Content-Type":"application/json"})}).then((function(e){return e.json()})).then((function(e){console.log(e[0]),c.setState({trip:e[0],test:e.length}),console.log(c.state.test)}))},c.getChatUsers=function(){fetch("http://localhost:8085/user/getchatslist",{method:"get",headers:new Headers({Authorization:localStorage.jwtToken,"Content-Type":"application/json"})}).then((function(e){return e.json()})).then((function(e){console.log(e),c.setState({firstChatUser:e[0]})}))},c.state={id:"",firstName:"",lastName:"",email:"",dob:"",description:"",gender:"",photoPath:null,trip:null,test:""},c.editProfile=c.editProfile.bind(Object(B.a)(c)),c.createTrip=c.createTrip.bind(Object(B.a)(c)),c.deleteProfile=c.deleteProfile.bind(Object(B.a)(c)),c.changePhoto=c.changePhoto.bind(Object(B.a)(c)),c.myTrips=c.myTrips.bind(Object(B.a)(c)),c.myChats=c.myChats.bind(Object(B.a)(c)),localStorage.removeItem("newtripId"),c}return Object(b.a)(s,[{key:"componentDidMount",value:function(){this.findUserByUser(),this.findTripsByUser(),this.getChatUsers()}},{key:"editProfile",value:function(){return this.props.history.push("/editProfile")}},{key:"createTrip",value:function(){return this.props.history.push("/createtrip")}},{key:"deleteProfile",value:function(){return this.props.history.push("/deleteProfile")}},{key:"myTrips",value:function(){return this.props.history.push("/myTrips")}},{key:"myChats",value:function(){return this.props.history.push("/chatUi/"+this.state.id)}},{key:"changePhoto",value:function(){return localStorage.setItem("photoPath",this.state.photoPath),this.props.history.push("/changePhoto")}},{key:"render",value:function(){var e,t,s=this.state,a=s.firstName,c=s.lastName,n=s.email,r=s.gender,i=s.description,o=s.dob,l=s.photoPath,d=s.trip,j=s.firstChatUser,h=s.test,b=(s.nchatUsers,null===l);return e=h?Object(I.jsxs)("div",{children:[Object(I.jsx)("i",{children:"Latest Trip"}),Object(I.jsx)("div",{className:"text-dark block-example border border-info w-100 p-2",children:Object(I.jsxs)("small",{children:["Description:",d.description,Object(I.jsx)("br",{}),"Location: ",d.destination," | ","Budget: ",d.tripBudget,Object(I.jsx)("br",{}),"Group Size: ",d.groupSize," | ","Date: ",d.tripDate]})}),Object(I.jsx)("small",{children:"To see all the information click on button below..."}),Object(I.jsx)("br",{}),Object(I.jsxs)(Y.a,{className:"text-center",onClick:this.myTrips,children:[" ","view all"]})]}):Object(I.jsxs)("div",{className:"text-white text-center bg-info block-example border border-danger w-100 p-2",children:["There are no previous trips to display.",Object(I.jsx)("br",{})," Click on Create Trip Button to create new. trips."]}),t=j?Object(I.jsxs)("div",{children:[Object(I.jsx)("i",{children:"You have a message from:"}),Object(I.jsx)("br",{}),Object(I.jsx)("div",{className:"text-dark block-example border border-info w-100 p-2",children:Object(I.jsx)("small",{children:Object(I.jsxs)("li",{children:[j.firstName," ",j.lastName]})})}),Object(I.jsx)("br",{}),Object(I.jsxs)(Y.a,{size:"sm",className:"text-center",onClick:this.myChats,children:[" ","View other messages"]})]}):Object(I.jsx)("div",{className:"text-white text-center bg-info block-example border border-danger w-100 p-2",children:"There are no messages."}),Object(I.jsx)("div",{className:"container",children:Object(I.jsx)("div",{className:"main-body",children:Object(I.jsxs)("div",{className:"row gutters-sm",children:[Object(I.jsxs)("div",{className:"col-md-4 mb-3",children:[Object(I.jsx)("div",{className:"card",children:Object(I.jsx)("div",{className:"card-body",children:Object(I.jsxs)("div",{className:"d-flex flex-column align-items-center text-center",children:[b?Object(I.jsx)("img",{src:"https://i2-prod.manchestereveningnews.co.uk/sport/football/football-news/article18186890.ece/ALTERNATES/s1200c/2_GettyImages-1184489344.jpg",alt:"Admin",className:"rounded-circle",width:"150"}):Object(I.jsx)("img",{src:"https://bootdey.com/img/Content/avatar/avatar7.png",alt:"No photo to preview",className:"rounded-circle",width:"150"}),Object(I.jsxs)("div",{className:"mt-3",children:[Object(I.jsx)("h4",{children:a+" "+c}),Object(I.jsx)("p",{className:"text-secondary mb-3",children:i}),Object(I.jsx)("button",{className:"btn btn-primary",onClick:this.changePhoto,children:"Change Photo"})]})]})})}),Object(I.jsx)("div",{className:"card mt-3",children:Object(I.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(I.jsx)("li",{className:"list-group-item text-center",children:Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("style",{type:"text/css",children:"\n                      .btn-flat {\n                        background-color: black;\n                        color: white;\n                      }\n\n                      .btn-xxl {\n                        left: 1rem;\n                        font-size: 1rem;\n                      }\n                      "}),Object(I.jsx)(Y.a,{variant:"flat",size:"xxl1",onClick:this.editProfile,children:"Edit Profile"})]})}),Object(I.jsx)("li",{className:"list-group-item text-center",children:Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(Y.a,{variant:"flat",size:"xxl1",onClick:this.createTrip,children:"Create Trip"})})}),Object(I.jsx)("li",{className:"list-group-item text-center",children:Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("style",{type:"text/css",children:"\n                      .btn-flat1 {\n                        background-color: red;\n                        color: white;\n                      }\n\n                      .btn-xxl1 {\n                        left: 1rem;\n                        font-size: 1rem;\n                      }\n                      "}),Object(I.jsx)(Y.a,{variant:"flat1",size:"xxl1",onClick:this.deleteProfile,children:"Delete Account"})]})})]})})]}),Object(I.jsxs)("div",{className:"col-md-8",children:[Object(I.jsx)("div",{className:"card mb-3",children:Object(I.jsxs)("div",{className:"card-body",children:[Object(I.jsxs)("div",{className:"row",children:[Object(I.jsx)("div",{className:"col-sm-3",children:Object(I.jsx)("h6",{className:"mb-0",children:"Full Name"})}),Object(I.jsx)("div",{className:"col-sm-9 text-secondary",children:a+" "+c})]}),Object(I.jsx)("hr",{}),Object(I.jsxs)("div",{className:"row",children:[Object(I.jsx)("div",{className:"col-sm-3",children:Object(I.jsx)("h6",{className:"mb-0",children:"Email"})}),Object(I.jsx)("div",{className:"col-sm-9 text-secondary",children:n})]}),Object(I.jsx)("hr",{}),Object(I.jsxs)("div",{className:"row",children:[Object(I.jsx)("div",{className:"col-sm-3",children:Object(I.jsx)("h6",{className:"mb-0",children:"Gender"})}),Object(I.jsx)("div",{className:"col-sm-9 text-secondary",children:r})]}),Object(I.jsx)("hr",{}),Object(I.jsxs)("div",{className:"row",children:[Object(I.jsx)("div",{className:"col-sm-3",children:Object(I.jsx)("h6",{className:"mb-0",children:"Date of Birth"})}),Object(I.jsx)("div",{className:"col-sm-9 text-secondary",children:o})]}),Object(I.jsx)("hr",{})]})}),Object(I.jsxs)("div",{className:"row gutters-sm",children:[Object(I.jsx)("div",{className:"col-sm-6 mb-3",children:Object(I.jsx)("div",{className:"card h-100",children:Object(I.jsxs)("div",{className:"card-body",children:[Object(I.jsx)("h6",{className:"d-flex align-items-center mb-3",children:Object(I.jsx)("i",{className:"material-icons text-info mr-2",children:"Chat Messages"})}),t]})})}),Object(I.jsx)("div",{className:"col-sm-6 mb-3",children:Object(I.jsx)("div",{className:"card h-100",children:Object(I.jsxs)("div",{className:"card-body",children:[Object(I.jsx)("h6",{className:"d-flex align-items-center mb-3",children:Object(I.jsx)("i",{className:"material-icons text-info mr-2",children:"My Trips"})}),e]})})})]})]})]})})})}}]),s}(a.Component),K=new(function(){function e(){Object(h.a)(this,e)}return Object(b.a)(e,[{key:"saveUser",value:function(e){return console.log(e),k.a.post("http://localhost:8085/user/updatedetails",e,{headers:{Authorization:localStorage.jwtToken,"Content-Type":"application/json"}})}},{key:"savePhoto",value:function(e){return k.a.post("http://localhost:8085/user/savephoto",e,{headers:{Authorization:localStorage.jwtToken}})}}]),e}()),X=function(e){Object(m.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(h.a)(this,s),(a=t.call(this,e)).initialState={firstName:"",lastName:"",email:"",dob:"",description:"",gender:"",password:""},a.findUserByUser=function(){fetch("http://localhost:8085/user/getdetails",{method:"get",headers:new Headers({Authorization:localStorage.jwtToken,"Content-Type":"application / json"})}).then((function(e){return e.json()})).then((function(e){console.log(e),a.setState({firstName:e.firstName,lastName:e.lastName,email:e.email,gender:e.gender,dob:e.dob,description:e.description,password:e.password})}))},a.userChange=function(e){a.setState(Object(z.a)({},e.target.name,e.target.value))},a.state=a.initialState,a.userChange=a.userChange.bind(Object(B.a)(a)),a.updteProfile=a.updteProfile.bind(Object(B.a)(a)),a.cancle=a.cancle.bind(Object(B.a)(a)),localStorage.removeItem("newtripId"),a}return Object(b.a)(s,[{key:"componentDidMount",value:function(){this.findUserByUser()}},{key:"cancle",value:function(){return this.props.history.push("/dashboard")}},{key:"updteProfile",value:function(e){var t=this;e.preventDefault();var s={firstName:this.state.firstName,lastName:this.state.lastName,email:this.state.email,gender:this.state.gender,dob:this.state.dob,description:this.state.description,password:this.state.password};console.log("updated user => "+JSON.stringify(s)),K.saveUser(s).then((function(e){console.log(e.data),t.setState({firstName:s.firstName,lastName:s.lastName,email:s.email,gender:s.gender,dob:s.dob,description:s.description,password:s.password})}))}},{key:"render",value:function(){var e=this.state,t=e.firstName,s=e.email,a=e.lastName,c=e.description,n=e.dob,r=e.gender,i=e.password;return Object(I.jsx)("div",{children:Object(I.jsx)("div",{className:"container",children:Object(I.jsxs)("div",{className:"row gutters",children:[Object(I.jsx)("div",{className:"col-xl-3 col-lg-3 col-md-12 col-sm-12 col-12",children:Object(I.jsx)("div",{className:"card h-100",children:Object(I.jsx)("div",{className:"card-body",children:Object(I.jsx)("div",{className:"account-settings",children:Object(I.jsx)("div",{className:"user-profile",children:Object(I.jsx)("h5",{className:"user-name",children:"Update Profile"})})})})})}),Object(I.jsx)("div",{className:"col-xl-9 col-lg-9 col-md-12 col-sm-12 col-12",children:Object(I.jsx)("div",{className:"card h-100",children:Object(I.jsxs)("div",{className:"card-body",children:[Object(I.jsxs)("div",{className:"row gutters",children:[Object(I.jsx)("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12",children:Object(I.jsx)("h6",{className:"mb-2 text-primary",children:"Personal Details"})}),Object(I.jsx)("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12",children:Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{children:"First Name"}),Object(I.jsx)("input",{autoComplete:"off",type:"text",className:"form-control",name:"firstName",id:"firstName",value:t,onChange:this.userChange,placeholder:"Enter first name"})]})}),Object(I.jsx)("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12",children:Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{children:"Last Name"}),Object(I.jsx)("input",{autoComplete:"off",type:"text",className:"form-control",name:"lastName",id:"lastName",value:a,onChange:this.userChange,placeholder:"Enter last name"})]})}),Object(I.jsx)("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12",children:Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{children:"Email"}),Object(I.jsx)("input",{autoComplete:"off",type:"email",className:"form-control",name:"email",id:"email",value:s,disabled:!0})]})}),Object(I.jsx)("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12",children:Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{children:"Description"}),Object(I.jsx)("input",{autoComplete:"off",type:"text",className:"form-control",name:"description",id:"description",value:c,onChange:this.userChange,placeholder:"Enter Description"})]})})]}),Object(I.jsxs)("div",{className:"row gutters",children:[Object(I.jsx)("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"}),Object(I.jsx)("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12",children:Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{children:"Gender"}),Object(I.jsxs)("select",{autoComplete:"off",type:"name",className:"form-control",name:"gender",id:"gender",value:r,onChange:this.userChange,placeholder:"Enter Gender",children:[Object(I.jsx)("option",{value:"",defaultValue:!0,disabled:!0,hidden:!0,children:"Choose Gender"}),Object(I.jsx)("option",{value:"1",children:"Male"}),Object(I.jsx)("option",{value:"2",children:"Female"}),Object(I.jsx)("option",{value:"0",children:"Other"})]})]})}),Object(I.jsx)("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12",children:Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{children:"Date of Birth"}),Object(I.jsx)("input",{autoComplete:"off",type:"date",className:"form-control",name:"dob",id:"dob",value:n,onChange:this.userChange,placeholder:"Enter Date of Birth"})]})}),Object(I.jsx)("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12",children:Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{children:"Address"}),Object(I.jsx)("input",{type:"text",className:"form-control",name:"address",id:"address",placeholder:"Enter Address"})]})}),Object(I.jsx)("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12",children:Object(I.jsxs)("div",{className:"form-group",children:[Object(I.jsx)("label",{children:"Password"}),Object(I.jsx)("input",{autoComplete:"off",type:"password",className:"form-control",name:"password",id:"password",value:i,onChange:this.userChange,placeholder:"Password"})]})})]}),Object(I.jsx)("div",{className:"row gutters",children:Object(I.jsx)("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12",children:Object(I.jsxs)("div",{className:"text-right",children:[Object(I.jsx)("button",{type:"button",id:"submit",name:"submit",onClick:this.cancle,className:"btn btn-secondary",children:"Cancel"})," ",Object(I.jsx)("button",{type:"button",id:"submit",name:"submit",onClick:this.updteProfile,className:"btn btn-primary",children:"Update"})]})})})]})})})]})})})}}]),s}(a.Component),Z=new(function(){function e(){Object(h.a)(this,e)}return Object(b.a)(e,[{key:"saveTrip",value:function(e){return console.log(e),k.a.post("http://localhost:8085/user/createtrip",e,{headers:{Authorization:localStorage.jwtToken,"Content-Type":"application/json"}})}},{key:"GetmatchTrip",value:function(e){return console.log(e),k.a.get("http://localhost:8085/user/matchtrips/"+e,{headers:{Authorization:localStorage.jwtToken}})}}]),e}()),ee=function(e){Object(m.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(h.a)(this,s),(a=t.call(this,e)).userChange=function(e){console.log(e.target.name+" => "+e.target.value),a.setState(Object(z.a)({},e.target.name,e.target.value))},a.submitTrip=function(e){e.preventDefault();var t={destination:a.state.destination,landscape:a.state.landscape,tripDate:a.state.tripDate,tripLength:a.state.tripLength,tripBudget:a.state.tripBudget,groupSize:a.state.groupSize,expectedAgeGroup:a.state.expectedAgeGroup,expectedGender:a.state.expectedGender,description:a.state.description};console.log(t),Z.saveTrip(t).then((function(e){console.log(e.data.tripId);var t=e.data.tripId;localStorage.setItem("tripId",t),a.props.history.push("/newMatch")}))},a.state={destination:"",landscape:"",tripDate:"",tripLength:"",tripBudget:"",groupSize:"",expectedAgeGroup:"",expectedGender:"",description:""},a.userChange=a.userChange.bind(Object(B.a)(a)),a.submitTrip=a.submitTrip.bind(Object(B.a)(a)),localStorage.removeItem("newtripId"),a}return Object(b.a)(s,[{key:"render",value:function(){var e=this.state,t=e.destination,s=(e.landscape,e.tripDate),a=e.tripLength,c=e.tripBudget,n=e.groupSize,r=(e.expectedAgeGroup,e.expectedGender,e.description);return Object(I.jsx)("div",{children:Object(I.jsx)(R.a,{children:Object(I.jsx)(o.a,{className:"justify-content-md-center",children:Object(I.jsx)(l.a,{xs:7,children:Object(I.jsxs)(F.a,{className:"border border-dark bg-dark text-white",children:[Object(I.jsxs)(F.a.Header,{children:[Object(I.jsx)(g.a,{icon:f.h})," Create a trip"]}),Object(I.jsxs)(F.a.Body,{children:[Object(I.jsxs)(R.a.Group,{controlId:"formGridDestination",children:[Object(I.jsx)(R.a.Label,{children:"Destination"}),Object(I.jsx)(R.a.Control,{type:"text",placeholder:"Enter Destination",name:"destination",value:t,onChange:this.userChange})]}),Object(I.jsxs)(R.a.Group,{controlId:"formGridLandscape",children:[Object(I.jsx)(R.a.Label,{children:"Landscape"}),Object(I.jsxs)(R.a.Control,{as:"select",defaultValue:"Choose Landsape...",name:"landscape",onChange:this.userChange,children:[Object(I.jsx)("option",{value:"-1",children:"Choose Landscape..."}),Object(I.jsx)("option",{value:"0",children:"Any"}),Object(I.jsx)("option",{value:"1",children:"Mountain/Hilly"}),Object(I.jsx)("option",{value:"2",children:"Beach"}),Object(I.jsx)("option",{value:"3",children:"Snowy"}),Object(I.jsx)("option",{value:"4",children:"Other"})]})]}),Object(I.jsxs)(R.a.Group,{controlId:"formGridDate",children:[Object(I.jsx)(R.a.Label,{children:"Travel Date"}),Object(I.jsx)(R.a.Control,{type:"date",name:"tripDate",value:s,onChange:this.userChange})]}),Object(I.jsxs)(R.a.Group,{controlId:"formGridTripLength",children:[Object(I.jsx)(R.a.Label,{children:"Trip Length"}),Object(I.jsx)(R.a.Control,{placeholder:"Enter no. of days",name:"tripLength",value:a,onChange:this.userChange})]}),Object(I.jsxs)(R.a.Row,{children:[Object(I.jsxs)(R.a.Group,{as:l.a,controlId:"formGridBudget",children:[Object(I.jsx)(R.a.Label,{children:"Trip Budget"}),Object(I.jsx)(R.a.Control,{placeholder:"Enter your budget",name:"tripBudget",value:c,onChange:this.userChange})]}),Object(I.jsxs)(R.a.Group,{as:l.a,controlId:"formGridGroup",children:[Object(I.jsx)(R.a.Label,{children:"Group Size"}),Object(I.jsx)(R.a.Control,{placeholder:"Your group size",name:"groupSize",value:n,onChange:this.userChange})]})]}),Object(I.jsxs)(R.a.Row,{children:[Object(I.jsx)(l.a,{xs:6,children:Object(I.jsxs)(R.a.Group,{controlId:"formGridAge",children:[Object(I.jsx)(R.a.Label,{children:"Preferred Age Group"}),Object(I.jsxs)(R.a.Control,{as:"select",defaultValue:"Choose...",name:"expectedAgeGroup",onChange:this.userChange,children:[Object(I.jsx)("option",{value:"-1",children:"Choose..."}),Object(I.jsx)("option",{value:"0",children:"Upto 20 years"}),Object(I.jsx)("option",{value:"1",children:"20-30"}),Object(I.jsx)("option",{value:"3",children:"30-40"}),Object(I.jsx)("option",{value:"4",children:"40-50"}),Object(I.jsx)("option",{value:"5",children:"50+"})]})]})}),Object(I.jsxs)(R.a.Group,{as:l.a,children:[Object(I.jsx)(R.a.Label,{children:"Preferred Gender"}),Object(I.jsxs)(l.a,{sm:10,children:[Object(I.jsx)(R.a.Check,{type:"radio",label:"Any",name:"expectedGender",id:"anyradio",value:"0",onChange:this.userChange}),Object(I.jsx)(R.a.Check,{type:"radio",label:"Male",name:"expectedGender",id:"maleradio",value:"1",onChange:this.userChange}),Object(I.jsx)(R.a.Check,{type:"radio",label:"Female",name:"expectedGender",id:"femaleradio",value:"2",onChange:this.userChange})]})]})]}),Object(I.jsxs)(R.a.Group,{controlId:"formGridDescription",children:[Object(I.jsx)(R.a.Label,{children:"Description"}),Object(I.jsx)(R.a.Control,{type:"textarea",rows:"9",placeholder:"Your expectations here...",name:"description",value:r,onChange:this.userChange})]})]}),Object(I.jsx)(F.a.Footer,{style:{textAlign:"left"},children:Object(I.jsx)(Y.a,{variant:"primary",type:"submit",onClick:this.submitTrip,children:"Find Me Some Fellow Travellers"})})]})})})})})}}]),s}(a.Component),te=s(105),se=s(186),ae=s(206);function ce(e,t){var s=window.getComputedStyle(e);return t.reduce((function(e,t){return e[t]=s[t],e}),{})}function ne(e,t){var s=t.duration,a=t.direction,c=t.onComplete,n={marginTop:"0px",marginBottom:"0px",height:"0px"},r=Object.keys(n),i="DOWN"===a?[n,ce(e,r)]:[ce(e,r),n],o=Object(te.a)(i,2),l=o[0],d=o[1],j=new Map(r.map((function(e){return[e,Object(ae.a)(l[e],d[e])]})));return function(e){var t=e.onProgress,s=e.onComplete,a=e.duration,c=e.initialProgress,n=null,r=null,i=(c||0)*a;return r=window.requestAnimationFrame((function e(c){n||(n=c-i);var o=(c-n)/a;o>1&&(o=1),t(o),o<1?r=window.requestAnimationFrame(e):s&&s()})),{stop:function(){cancelAnimationFrame(r)}}}({duration:s,onComplete:c,onProgress:function(t){var s=Object(se.a)(t);j.forEach((function(t,a){e.style[a]=t(s)}))}})}var re=new(function(){function e(){Object(h.a)(this,e)}return Object(b.a)(e,[{key:"sendMessage",value:function(e){return k.a.post("http://localhost:8085/user/savemessage",e,{headers:{Authorization:localStorage.jwtToken,"Content-Type":"application/json"}})}},{key:"getChatUsers",value:function(){return k.a.get("http://localhost:8085/user/getchatslist",{headers:{Authorization:localStorage.jwtToken}})}},{key:"getChats",value:function(e){return k.a.get("http://localhost:8085/user/getchats/"+e,{headers:{Authorization:localStorage.jwtToken}})}}]),e}()),ie=s(200),oe=s(196),le=s(204),de=s(194),je=s(192),he=s(193),be=s(191),me=function(e){Object(m.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(h.a)(this,s),(a=t.call(this,e)).toggleExpander=function(e){"checkbox"!==e.target.type&&(a.state.expanded?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=t.duration,a=void 0===s?750:s,c=t.onComplete;ne(e,{direction:"UP",duration:a,onComplete:c})}(a.refs.expanderBody,{onComplete:function(){a.setState({expanded:!1})}}):a.setState({expanded:!0},(function(){a.refs.expanderBody&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=t.duration,a=void 0===s?750:s,c=t.onComplete;ne(e,{direction:"DOWN",duration:a,onComplete:c})}(a.refs.expanderBody)})))},a.handleChange=function(e){a.setState((function(){return{messageobj:{toUserId:a.props.trip.user.id,message:e}}}))},a.handleClickOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a.sendMsg=function(e){if(e.preventDefault(),""!==a.state.messageobj.message){var t={toUserId:a.state.messageobj.toUserId,message:a.state.messageobj.message};console.log(a.state.messageobj),console.log(t),re.sendMessage(t).then((function(e){console.log(e),a.handleClose()}))}},a.state={expanded:!1,open:!1,messageobj:{toUserId:"",message:""}},a}return Object(b.a)(s,[{key:"render",value:function(){var e=this,t=this.props.trip,s=this.state.open;return[Object(I.jsxs)("tr",{onClick:this.toggleExpander,children:[Object(I.jsxs)("td",{children:[t.destination,Object(I.jsx)("br",{}),Object(I.jsx)("small",{children:t.landscape})]}),Object(I.jsx)("td",{children:t.tripDate}),Object(I.jsxs)("td",{children:[t.user.firstName," ",t.user.lastName]})]},"main"),this.state.expanded&&Object(I.jsx)("tr",{className:"expandable bg-dark",children:Object(I.jsx)("td",{className:"uk-background-muted text-white",colSpan:6,children:Object(I.jsxs)("div",{ref:"expanderBody",className:"inner uk-grid text-white",children:[Object(I.jsx)("div",{className:"uk-width-1-4 uk-text-center text-white"}),Object(I.jsx)(i.a,{children:Object(I.jsxs)(o.a,{children:[Object(I.jsxs)(l.a,{children:[Object(I.jsx)("h3",{children:"Trip Details:"}),Object(I.jsx)("div",{className:"text-white block-example border border-secondary w-50 p-2",children:Object(I.jsxs)("p",{children:["Description:",Object(I.jsx)("br",{}),Object(I.jsxs)("i",{children:[" ",t.description]})]})}),Object(I.jsxs)("p",{children:["Travel Budget: ",t.tripBudget,Object(I.jsx)("br",{}),"Trip Length: ",t.tripLength,Object(I.jsx)("br",{}),"Group Size: ",t.groupSize]})]}),Object(I.jsxs)(l.a,{children:[Object(I.jsx)("h3",{children:"Host Details:"}),Object(I.jsxs)("p",{children:["Host name:"," ",Object(I.jsxs)("i",{children:[t.user.firstName," ",t.user.lastName]}),Object(I.jsx)("br",{}),"Host Age: ",Object(I.jsx)("i",{children:t.user.age})," ",Object(I.jsx)("br",{}),"Host gender:",Object(I.jsxs)("i",{children:[" ",t.user.gender]})]}),Object(I.jsxs)("div",{children:[Object(I.jsxs)(ie.a,{variant:"outlined",color:"primary",onClick:this.handleClickOpen,children:["Have a conversation"," "]}),Object(I.jsxs)(le.a,{open:s,onClose:this.handleClose,"aria-labelledby":"form-dialog-title",children:[Object(I.jsx)(be.a,{id:"form-dialog-title",children:"Message box"}),Object(I.jsxs)(je.a,{children:[Object(I.jsxs)(he.a,{children:["Write a message to ",Object(I.jsx)("i",{children:t.user.firstName}),"."]}),Object(I.jsx)(oe.a,{autoFocus:!0,margin:"dense",id:"outlined-multiline-static",placeholder:"Hey There!",label:"Message",multiline:!0,rows:4,variant:"outlined",fullWidth:!0,onChange:function(t){return e.handleChange(t.target.value)},name:"message"})]}),Object(I.jsxs)(de.a,{children:[Object(I.jsx)(ie.a,{onClick:this.handleClose,color:"primary",children:"Cancel"}),Object(I.jsx)(ie.a,{onClick:this.sendMsg,color:"primary",children:"Send"})]})]})]})]})]})})]})})},"tr-expander")]}}]),s}(c.a.Component),ue=s(195),xe=function(e){Object(m.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(h.a)(this,s),(a=t.call(this,e)).state={tripId:localStorage.getItem("tripId"),trips:null},a}return Object(b.a)(s,[{key:"componentDidMount",value:function(){var e=this;console.log(this.state.tripId),Z.GetmatchTrip(this.state.tripId).then((function(t){console.log(t.data),e.setState({trips:t.data}),console.log(e.state.trips[0].trip.tripId)})),localStorage.removeItem("tripId")}},{key:"render",value:function(){var e=null===this.state.trips;return Object(I.jsx)("div",{children:Object(I.jsxs)(F.a,{className:"border border-dark bg-secondary text-white",children:[Object(I.jsx)(F.a.Header,{children:Object(I.jsxs)("div",{style:{float:"left"},children:[Object(I.jsx)(g.a,{icon:f.b})," Trip List"]})}),Object(I.jsx)("div",{className:"uk-overflow-auto",children:Object(I.jsx)(F.a.Body,{children:Object(I.jsxs)(ue.a,{bordered:!0,hover:!0,striped:!0,variant:"dark",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:"Destination"}),Object(I.jsx)("th",{children:"Date"}),Object(I.jsx)("th",{children:'"Trip Host'})]})}),Object(I.jsx)("tbody",{children:e?Object(I.jsx)("tr",{children:Object(I.jsx)("td",{colSpan:6,className:"uk-text-center text-white",children:Object(I.jsx)("em",{className:"uk-text-muted text-white",children:"No Matches Available"})})}):this.state.trips.map((function(e){return Object(I.jsx)(me,{trip:e.trip},e.trip.tripId)}))})]})})})]})})}}]),s}(a.Component),pe=function(e){Object(m.a)(s,e);var t=Object(u.a)(s);function s(e,a){var c;return Object(h.a)(this,s),(c=t.call(this,e,a)).deleteaccount=function(){return E.deleteUser().then((function(e){console.log(e.data)})),localStorage.removeItem("jwtToken"),c.props.history.push("/")},c.deleteaccount=c.deleteaccount.bind(Object(B.a)(c)),c.backtoDashboardService=c.backtoDashboardService.bind(Object(B.a)(c)),c}return Object(b.a)(s,[{key:"backtoDashboardService",value:function(){return this.props.history.push("/dashboard")}},{key:"render",value:function(){return Object(I.jsxs)("div",{children:[" ",Object(I.jsx)("br",{}),Object(I.jsxs)("div",{className:"card col-md-6 offset-md-3",children:[Object(I.jsxs)("h3",{className:"text-center text-danger",children:[" ","Delete Account Permanently!!!"]}),Object(I.jsxs)("div",{className:"card-body text-center",children:[Object(I.jsx)("p",{children:"Deleting this account will remove all your personal information, your trips information and chats permanently."}),Object(I.jsx)("br",{}),Object(I.jsx)("p",{children:"Are you sure you want to continue??"}),Object(I.jsxs)("button",{style:{marginLeft:"10px"},onClick:this.backtoDashboardService,className:"btn btn-info",children:["No, take me back"," "]}),Object(I.jsxs)("button",{style:{marginLeft:"10px"},onClick:this.deleteaccount,className:"btn btn-danger",children:["Yes, delete my account"," "]})]})]})]})}}]),s}(a.Component),Oe=function(e){Object(m.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(h.a)(this,s),(a=t.call(this,e)).state={file:"",newphoto:""},localStorage.removeItem("photoPath"),a.handleChange=a.handleChange.bind(Object(B.a)(a)),a.backtoDashboardService=a.backtoDashboardService.bind(Object(B.a)(a)),a.changePhoto=a.changePhoto.bind(Object(B.a)(a)),a}return Object(b.a)(s,[{key:"handleChange",value:function(e){var t=this,s="",a=document.getElementById("image").files,c=new FileReader;c&&a&&a.length&&(c.readAsArrayBuffer(a[0]),c.onload=function(){s=c.result,console.log(s),t.setState({file:s})})}},{key:"changePhoto",value:function(){K.savePhoto(this.state.file).then((function(e){console.log(e.data)}))}},{key:"backtoDashboardService",value:function(){return this.props.history.push("/dashboard")}},{key:"render",value:function(){return Object(I.jsxs)("div",{children:[" ",Object(I.jsx)("br",{}),Object(I.jsxs)("div",{className:"card col-md-6 offset-md-3",children:[Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)("h3",{className:"text-center text-dark",children:" Change Your Profile Photo"}),Object(I.jsxs)("div",{className:"card-body text-center",children:[Object(I.jsx)("input",{type:"file",name:"image",accept:".jpg",id:"image",onChange:this.handleChange}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)("img",{src:this.state.file,className:"rounded-circle",width:"150"}),Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsxs)("button",{style:{marginLeft:"10px"},onClick:this.changePhoto,className:"btn btn-info",children:["Change Photo"," "]}),Object(I.jsxs)("button",{style:{marginLeft:"10px"},onClick:this.backtoDashboardService,className:"btn btn-danger",children:["Cancel"," "]})]})]})]})}}]),s}(a.Component),ge=function(e){Object(m.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(h.a)(this,s),(a=t.call(this,e)).showUserChat=function(e){var t=e.firstName+" "+e.lastName,s=e.id;a.setState({otherUserName:t},(function(){console.log(a.state.otherUserName),document.getElementById("otherUserName").innerHTML=t,a.setState({messageobj:{toUserId:s}},(function(){console.log(a.state.messageobj)})),re.getChats(e.id).then((function(e){a.setState({chatMessages:e.data},console.log(e.data[0].fromUser.id))})).then((function(){console.log(a.state.chatMessages),console.log(a.state.chatMessages[0].fromUser.id)})),console.log("curr user -> "+a.state.currUserId)}))},a.handleChange=function(e){a.setState((function(){return{messageobj:{message:e}}}))},a.handleClose=function(){a.setState({open:!1})},a.sendMsg=function(e){if(e.preventDefault(),""!==a.state.messageobj.message){var t={toUserId:a.state.messageobj.toUserId,message:a.state.messageobj.message};console.log(a.state.messageobj),console.log(t),re.sendMessage(t).then((function(e){console.log(e),a.handleClose()}))}},a.state={currUserId:a.props.match.params.id,otherUserid:"",otherUserName:"",messageobj:{toUserId:"",message:""},chatUsers:[{id:"1",firstName:"Johnny",lastName:"Depp",email:"j@d.com",password:"123",gender:"male",dob:"22/11/1997",description:"iiitb"},{id:"2",firstName:"Leonardo",lastName:"Dicaprio",email:"l@d.com",password:"123",gender:"male",dob:"12/34/1975",description:"iiitb"},{id:"4",firstName:"Dwight",lastName:"Shrute",email:"j@d.com",password:"123",gender:"male",dob:"22/11/1997",description:"iiitb"}],chatMessages:[]},a.showUserChat=a.showUserChat.bind(Object(B.a)(a)),a}return Object(b.a)(s,[{key:"componentDidMount",value:function(){var e=this;re.getChatUsers().then((function(t){console.log(t.data),e.setState({chatUsers:t.data,isDemoChat:!1})}))}},{key:"render",value:function(){var e=this,t=this.state,s=t.chatUsers,a=t.chatMessages;return Object(I.jsx)("div",{children:Object(I.jsx)("div",{className:"container",children:Object(I.jsx)("div",{className:"main-body",children:Object(I.jsxs)("div",{className:"row gutters-sm",children:[Object(I.jsx)("div",{className:"col-md-5 mb-3",children:Object(I.jsx)("div",{className:"card",children:Object(I.jsxs)("div",{className:"card-body",children:[Object(I.jsx)("div",{className:"d-flex flex-column align-items-center text-center",children:Object(I.jsxs)("div",{className:"mt-3",children:[Object(I.jsx)("h4",{className:"mb-4",children:"My Messages"}),Object(I.jsxs)("p",{className:"text-secondary mb-4 ",children:["People who tried to contact you-"," "]})]})}),s.map((function(t){return Object(I.jsxs)("div",{children:[Object(I.jsxs)("div",{className:"row",children:[Object(I.jsx)("div",{className:"col-sm-8",children:Object(I.jsx)("h6",{className:"mb-0",children:Object(I.jsxs)("i",{className:"material-icons text-info mr-2",children:[t.firstName," ",t.lastName]})})}),Object(I.jsx)(Y.a,{variant:"primary",size:"sm",onClick:function(){e.showUserChat(t)},children:"Messages"})]}),Object(I.jsx)("hr",{})]},t.id)}))]})})}),Object(I.jsx)("div",{className:"col-md-7",children:Object(I.jsx)("div",{className:"card mb-6",children:Object(I.jsxs)("div",{className:"card-body",id:"chatsdisplay",children:[Object(I.jsx)("div",{className:"row",children:Object(I.jsx)("div",{className:"col-lg-8",children:Object(I.jsx)("h5",{className:"mb-4",children:Object(I.jsx)("i",{className:"material-icons text-info mr-2",id:"otherUserName",children:"Please select a user to see messages."})})})}),a.map((function(t){return Object(I.jsxs)("div",{children:[console.log("fromUserId"+t.fromUser.id),console.log("currUser"+e.state.currUserId),e.state.currUserId===t.fromUser.id?Object(I.jsxs)("div",{className:"row",children:[" ",Object(I.jsx)("div",{className:"col-6",children:" "}),Object(I.jsxs)("div",{className:"col-6 text-right",children:[Object(I.jsx)(F.a,{bg:"info",text:"light",children:Object(I.jsx)(F.a.Body,{children:t.message})}),Object(I.jsxs)("h6",{className:"mb-0 col-sm text-secondary",children:["You"," "]})]})]}):Object(I.jsxs)("div",{className:"row",children:[" ",Object(I.jsxs)("div",{className:"col-6 text-left",children:[Object(I.jsx)(F.a,{bg:"primary",text:"light",children:Object(I.jsx)(F.a.Body,{children:t.message})}),Object(I.jsxs)("h6",{className:"mb-0 col-sm text-secondary",children:["User"," "]})]}),Object(I.jsx)("div",{className:"col-6 text-right"})]})]},t.msgTimestamp)})),Object(I.jsx)("hr",{}),Object(I.jsx)("div",{className:"row",children:Object(I.jsx)("div",{className:"col",children:Object(I.jsx)(oe.a,{autoFocus:!0,margin:"dense",id:"outlined-multiline-static",placeholder:"Message ",label:"Write a message here",multiline:!0,rows:1,variant:"outlined",fullWidth:!0,onChange:function(t){return e.handleChange(t.target.value)},name:"message"})})}),Object(I.jsx)("div",{className:"text-right",children:Object(I.jsx)(Y.a,{variant:"primary",size:"sm",onClick:this.sendMsg,children:"Send"})})]})})})]})})})})}}]),s}(a.Component),fe=function(e){Object(m.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(h.a)(this,s),(a=t.call(this,e)).state={trips:null},a.deleteTrip=a.deleteTrip.bind(Object(B.a)(a)),a.myMatches=a.myMatches.bind(Object(B.a)(a)),a}return Object(b.a)(s,[{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:8085/user/gettrips",{method:"get",headers:new Headers({Authorization:localStorage.jwtToken,"Content-Type":"application/json"})}).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({trips:t})}))}},{key:"myMatches",value:function(e){console.log(e),localStorage.setItem("tripId",e),this.props.history.push("/newMatch")}},{key:"deleteTrip",value:function(e){console.log(e),k.a.post("http://localhost:8085/user/deletetrip/"+e,{headers:{Authorization:localStorage.jwtToken}})}},{key:"render",value:function(){var e=this,t=null===this.state.trips;return Object(I.jsxs)("div",{children:[Object(I.jsx)("h2",{className:"text-center text-white",children:"My Trip's List"}),Object(I.jsx)("br",{}),Object(I.jsx)("div",{className:"row",children:Object(I.jsxs)("table",{className:"table table-striped table-bordered text-white text-center border border-dark bg-dark",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:" Description"}),Object(I.jsx)("th",{children:" Destination"}),Object(I.jsx)("th",{children:" Budget"}),Object(I.jsx)("th",{children:" Group Size"}),Object(I.jsx)("th",{children:" Date"}),Object(I.jsx)("th",{children:" Actions"})]})}),Object(I.jsx)("tbody",{children:t?Object(I.jsx)("tr",{children:Object(I.jsx)("td",{colSpan:7,className:"uk-text-center text-white",children:Object(I.jsx)("em",{className:"uk-text-muted text-white",children:"No trips to display"})})}):this.state.trips.map((function(t){return Object(I.jsxs)("tr",{children:[Object(I.jsxs)("td",{children:[" ",t.description," "]}),Object(I.jsxs)("td",{children:[" ",t.destination]}),Object(I.jsxs)("td",{children:[" ",t.tripBudget]}),Object(I.jsxs)("td",{children:[" ",t.groupSize]}),Object(I.jsxs)("td",{children:[" ",t.tripDate," "]}),Object(I.jsxs)("td",{children:[Object(I.jsxs)("button",{onClick:function(){return e.myMatches(t.tripId)},className:"btn btn-info",children:["View Matches"," "]}),Object(I.jsxs)("button",{style:{marginLeft:"10px"},onClick:function(){return e.deleteTrip(t.tripId)},className:"btn btn-danger",children:["Delete"," "]})]})]},t.tripId)}))})]})})]})}}]),s}(a.Component),ve=function(e){Object(m.a)(s,e);var t=Object(u.a)(s);function s(){return Object(h.a)(this,s),t.apply(this,arguments)}return Object(b.a)(s,[{key:"render",value:function(){return Object(I.jsx)("div",{children:Object(I.jsx)("h1",{className:"text-center text-white",children:"Developers"})})}}]),s}(a.Component);function Ne(){return Object(I.jsxs)(d.a,{children:[Object(I.jsx)(D,{}),Object(I.jsx)(i.a,{children:Object(I.jsx)(o.a,{children:Object(I.jsx)(l.a,{lg:12,className:"margin-top",children:Object(I.jsxs)(j.c,{children:[Object(I.jsx)(j.a,{path:"/",exact:!0,component:M}),Object(I.jsx)(j.a,{path:"/register",exact:!0,component:q}),Object(I.jsx)(j.a,{path:"/login",exact:!0,component:_}),Object(I.jsx)(j.a,{path:"/dashboard",exact:!0,component:$}),Object(I.jsx)(j.a,{path:"/editProfile",exact:!0,component:X}),Object(I.jsx)(j.a,{path:"/createtrip",exact:!0,component:ee}),Object(I.jsx)(j.a,{path:"/newMatch",exact:!0,component:xe}),Object(I.jsx)(j.a,{path:"/deleteProfile",exact:!0,component:pe}),Object(I.jsx)(j.a,{path:"/chatUi/:id",exact:!0,component:ge}),Object(I.jsx)(j.a,{path:"/changePhoto",exact:!0,component:Oe}),Object(I.jsx)(j.a,{path:"/myTrips",exact:!0,component:fe}),Object(I.jsx)(j.a,{path:"/aboutUs",exact:!0,component:ve})]})})})}),Object(I.jsx)(Q,{})]})}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ye=s(53),Ce=s(103),we=s(104),ke={isLoggedIn:""},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:case N:return Object(we.a)({},e);case y:case C:return{isLoggedIn:t.payload};default:return e}},Te=Object(ye.c)({auth:Se});var Ie,Ue=Object(ye.d)(Te,Object(ye.a)(Ce.a));localStorage.jwtToken&&((Ie=localStorage.jwtToken)?k.a.defaults.headers.common.Authorization="".concat(Ie):delete k.a.defaults.headers.common.Authorization);var De=Ue;r.a.render(Object(I.jsx)(x.a,{store:De,children:Object(I.jsx)(Ne,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},78:function(e,t,s){},87:function(e,t,s){}},[[147,1,2]]]);
//# sourceMappingURL=main.57e862e0.chunk.js.map